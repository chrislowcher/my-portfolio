import{d as D,x as N,V as R,R as H,y as C,$,a0 as F,q as W,l as z,a1 as T,a2 as I,a3 as G,a as L,m as V,k as w,a4 as X,a5 as J,o as K,c as Q,a6 as A,a7 as Y}from"./ooR6NXsi.js";const we=D({__name:"Badge",props:{color:{}},setup(e){return(t,i)=>(C(),N("span",{class:H(`inline-flex items-center rounded-full bg-white/5 backdrop-blur-xs px-2 py-1 text-xs font-medium text-${e.color}-400 ring-1 ring-gray-500/10 ring-inset`)},[R(t.$slots,"default")],2))}});async function Z(e,t){return await ee(t).catch(r=>(console.error("Failed to get image meta for "+t,r+""),{width:0,height:0,ratio:0}))}async function ee(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,i)=>{const r=new Image;r.onload=()=>{const s={width:r.width,height:r.height,ratio:r.width/r.height};t(s)},r.onerror=s=>i(s),r.src=e})}function P(e){return(t=>t!==void 0?e[t]||t:e.missingValue)}function te(e={}){const t=e.formatter,i=e.keyMap&&typeof e.keyMap!="function"?P(e.keyMap):e.keyMap,r={};for(const s in e.valueMap){const n=s,a=e.valueMap[n];r[n]=typeof a=="object"?P(a):a}return s=>{const n=[];for(const a in s){const o=a;if(typeof s[o]>"u")continue;const f=typeof r[o]=="function"?r[o](s[o]):s[o];n.push([i?i(o):o,f])}return t?n.map(a=>t(...a)).join(e.joinWith??"&"):new URLSearchParams(n).toString()}}function re(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const i of e.split(" ")){const r=Number.parseInt(i.replace("x",""));r&&t.add(r)}return Array.from(t)}function ie(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function _(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function se(e){const t={};if(typeof e=="string")for(const i of e.split(/[\s,]+/).filter(r=>r)){const r=i.split(":");r.length!==2?t["1px"]=r[0].trim():t[r[0].trim()]=r[1].trim()}else Object.assign(t,e);return t}function ne(e){const t={options:e},i=(s,n={})=>U(t,s,n),r=((s,n,a)=>i(s,$({modifiers:n},a)).url);for(const s in e.presets)r[s]=((n,a,o)=>r(n,a,{...e.presets[s],...o}));return r.options=e,r.getImage=i,r.getMeta=((s,n)=>oe(t,s,n)),r.getSizes=((s,n)=>ce(t,s,n)),t.$img=r,r}async function oe(e,t,i){const r=U(e,t,{...i});return typeof r.getMeta=="function"?await r.getMeta():await Z(e,r.url)}function U(e,t,i){var m,y;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{setup:r,defaults:s}=ae(e,i.provider||e.options.provider),n=r(),a=O(e,i.preset);if(t=W(t)?t:F(t),!n.supportsAlias){for(const d in e.options.alias)if(t.startsWith(d)){const h=e.options.alias[d];h&&(t=z(h,t.slice(d.length)))}}if(n.validateDomains&&W(t)){const d=T(t).host;if(!e.options.domains.find(h=>h===d))return{url:t}}const o=$(i,a,s),f={...o,modifiers:{...o.modifiers,width:(m=o.modifiers)!=null&&m.width?_(o.modifiers.width):void 0,height:(y=o.modifiers)!=null&&y.height?_(o.modifiers.height):void 0}},l=n.getImage(t,f,e);return l.format||(l.format=f.modifiers.format||""),l}function ae(e,t){const i=e.options.providers[t];if(!i)throw new Error("Unknown provider: "+t);return i}function O(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function ce(e,t,i){var p,c,g,M,k;const r=O(e,i.preset),s=$(i,r),n=_((p=s.modifiers)==null?void 0:p.width),a=_((c=s.modifiers)==null?void 0:c.height),o=s.sizes?se(s.sizes):{},f=(g=s.densities)==null?void 0:g.trim(),l=f?re(f):e.options.densities;ie(l);const m=n&&a?a/n:0,y=[],d=[];if(Object.keys(o).length>=1){for(const u in o){const v=j(u,String(o[u]),a,m,e);if(v!==void 0){y.push({size:v.size,screenMaxWidth:v.screenMaxWidth,media:`(max-width: ${v.screenMaxWidth}px)`});for(const b of l)d.push({width:v._cWidth*b,src:E(e,t,i,v,b)})}}de(y)}else for(const u of l){const v=Object.keys(o)[0];let b=v?j(v,String(o[v]),a,m,e):void 0;b===void 0&&(b={size:"",screenMaxWidth:0,_cWidth:(M=i.modifiers)==null?void 0:M.width,_cHeight:(k=i.modifiers)==null?void 0:k.height}),d.push({width:u,src:E(e,t,i,b,u)})}le(d);const h=d[d.length-1],S=y.length?y.map(u=>`${u.media?u.media+" ":""}${u.size}`).join(", "):void 0,x=S?"w":"x",q=d.map(u=>`${u.src} ${u.width}${x}`).join(", ");return{sizes:S,srcset:q,src:h==null?void 0:h.src}}function j(e,t,i,r,s){const n=s.options.screens&&s.options.screens[e]||Number.parseInt(e),a=t.endsWith("vw");if(!a&&/^\d+$/.test(t)&&(t=t+"px"),!a&&!t.endsWith("px"))return;let o=Number.parseInt(t);if(!n||!o)return;a&&(o=Math.round(o/100*n));const f=r?Math.round(o*r):i;return{size:t,screenMaxWidth:n,_cWidth:o,_cHeight:f}}function E(e,t,i,r,s){return e.$img(t,{...i.modifiers,width:r._cWidth?r._cWidth*s:void 0,height:r._cHeight?r._cHeight*s:void 0},i)}function de(e){var i;e.sort((r,s)=>r.screenMaxWidth-s.screenMaxWidth);let t=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.media===t&&e.splice(r,1),t=s.media}for(let r=0;r<e.length;r++)e[r].media=((i=e[r+1])==null?void 0:i.media)||""}function le(e){e.sort((i,r)=>i.width-r.width);let t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.width===t&&e.splice(i,1),t=r.width}}function ue(e){let t;return()=>t||(t=typeof e=="function"?e():e,t)}const fe=te({keyMap:{format:"f",width:"w",height:"h",resize:"s",quality:"q",background:"b",position:"pos"},formatter:(e,t)=>I(e)+"_"+I(t.toString())}),he=ue({validateDomains:!0,supportsAlias:!0,getImage(e,{modifiers:t,baseURL:i},r){t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const s=fe(t)||"_";return i||(i=z(r.options.nuxt.baseURL,"/_ipx")),{url:z(i,s,G(e).replace(/\/{2,}/g,"/"))}}}),ge={screens:{sm:640,md:768,lg:1024,xl:1280,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"],provider:"ipxStatic",providers:{ipxStatic:{setup:he,defaults:{baseURL:"/my-portfolio/"}}}},B=e=>{var r;const t=V(),i=L();return i.$img||i._img||(i._img=ne({...ge,event:(r=i.ssrContext)==null?void 0:r.event,nuxt:{baseURL:t.app.baseURL},runtimeConfig:t}))};function me(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const pe=e=>{const t=B(),i=w(()=>({provider:e.provider,preset:e.preset})),r=w(()=>({width:_(e.width),height:_(e.height),crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,nonce:e.nonce})),s=w(()=>({...e.modifiers,width:e.width,height:e.height,format:e.format,quality:e.quality||t.options.quality,background:e.background,fit:e.fit}));return{providerOptions:i,normalizedAttrs:r,imageModifiers:s}},ve=["src"],Se={__name:"NuxtImg",props:{custom:{type:Boolean,required:!1},placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1},src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[String,Number],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:null,required:!1},sizes:{type:[String,Object],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},crossorigin:{type:[String,Boolean],required:!1},nonce:{type:String,required:!1}},emits:["load","error"],setup(e,{expose:t,emit:i}){const r=e,s=i,n=B(),{providerOptions:a,normalizedAttrs:o,imageModifiers:f}=pe(r),l=w(()=>n.getSizes(r.src,{...a.value,sizes:r.sizes,densities:r.densities,modifiers:f.value})),m=Q(!1),y=X(),d=w(()=>({...o.value,"data-nuxt-img":"",...!r.placeholder||m.value?{sizes:l.value.sizes,srcset:l.value.srcset}:{},...y})),h=w(()=>{if(m.value)return!1;const c=r.placeholder===""?[10,10]:r.placeholder;if(!c)return!1;if(typeof c=="string")return c;const[g=10,M=g,k=50,u=3]=Array.isArray(c)?c:typeof c=="number"?[c]:[];return n(r.src,{...f.value,width:g,height:M,quality:k,blur:u},a.value)}),S=w(()=>r.sizes?l.value.src:n(r.src,f.value,a.value)),x=w(()=>h.value||S.value),q=L().isHydrating,p=J("imgEl");return t({imgEl:p}),K(()=>{if(h.value||r.custom){const c=new Image;S.value&&(c.src=S.value),r.sizes&&(c.sizes=l.value.sizes||"",c.srcset=l.value.srcset),c.decode?c.decode().then(()=>{m.value=!0,s("load",new Event("load"))}).catch(g=>{s("error",g)}):(c.onload=g=>{m.value=!0,s("load",g)},c.onerror=g=>{s("error",g)}),me("nuxt-image");return}p.value&&(p.value.complete&&q&&(p.value.getAttribute("data-error")?s("error",new Event("error")):s("load",new Event("load"))),p.value.onload=c=>{s("load",c)},p.value.onerror=c=>{s("error",c)})}),(c,g)=>e.custom?R(c.$slots,"default",Y(A({key:1},{imgAttrs:d.value,isLoaded:m.value,src:x.value}))):(C(),N("img",A({key:0,ref_key:"imgEl",ref:p,class:h.value?e.placeholderClass:void 0},d.value,{src:x.value}),null,16,ve))}};export{we as _,Se as a};
